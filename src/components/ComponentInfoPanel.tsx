import { ComponentType } from '../types'
import { X } from 'lucide-react'

interface ComponentInfoPanelProps {
  componentType: ComponentType
  onClose: () => void
  onCompare?: (type: ComponentType) => void
}

const componentDescriptions: Record<ComponentType, { title: string; description: string; useCases: string[] }> = {
  'frontend': {
    title: 'Клиентское приложение (Frontend)',
    description: 'Пользовательский интерфейс приложения, который взаимодействует с пользователем и отправляет запросы на серверную часть через API Gateway или Load Balancer.',
    useCases: [
      'Веб-приложения (React, Vue, Angular)',
      'Мобильные приложения',
      'Десктопные приложения',
      'Одностраничные приложения (SPA)'
    ]
  },
  'service': {
    title: 'Сервис (Microservice)',
    description: 'Независимый сервис, который реализует определенную бизнес-логику. Может взаимодействовать с другими сервисами, базами данных, кешами и брокерами сообщений.',
    useCases: [
      'Микросервисная архитектура',
      'RESTful API',
      'gRPC сервисы',
      'Бизнес-логика приложения'
    ]
  },
  'database': {
    title: 'База данных',
    description: 'Хранилище данных для постоянного хранения информации. Может быть SQL (реляционная) или NoSQL (документная, колоночная, ключ-значение, графовая, временные ряды).',
    useCases: [
      'Хранение пользовательских данных',
      'Хранение транзакционных данных',
      'Хранение логов и метрик',
      'Реляционные и нереляционные данные'
    ]
  },
  'table': {
    title: 'Таблица БД',
    description: 'Логическая таблица в реляционной базе данных. Позволяет определять схему данных, включая колонки, типы данных, первичные и внешние ключи.',
    useCases: [
      'Моделирование схем БД',
      'Определение структуры таблиц',
      'Описание связей между таблицами',
      'Проектирование нормализованных данных'
    ]
  },
  'message-broker': {
    title: 'Брокер сообщений',
    description: 'Промежуточное ПО для асинхронной передачи сообщений (например, Kafka, RabbitMQ, ActiveMQ). Обеспечивает развязку сервисов, буферизацию и гарантированную доставку.',
    useCases: [
      'Асинхронное взаимодействие сервисов',
      'Очереди задач и событий',
      'Pub/Sub рассылки',
      'Сглаживание пиковых нагрузок'
    ]
  },
  'api-gateway': {
    title: 'API Gateway',
    description: 'Единая точка входа для API запросов (например, Kong, AWS API Gateway, Apigee). Обеспечивает маршрутизацию, защиту, мониторинг и управление трафиком.',
    useCases: [
      'Управление API и версионирование',
      'Rate limiting и троттлинг',
      'Аутентификация и авторизация',
      'Агрегация микросервисов'
    ]
  },
  'cache': {
    title: 'Кэш',
    description: 'Временное хранилище данных для быстрого доступа. Может быть распределенным (Redis, Memcached) или в памяти приложения. Уменьшает нагрузку на базу данных и ускоряет ответы.',
    useCases: [
      'Кэширование часто запрашиваемых данных',
      'Уменьшение нагрузки на БД',
      'Ускорение ответов приложения',
      'Хранение сессий пользователей'
    ]
  },
  'load-balancer': {
    title: 'Балансировщик нагрузки',
    description: 'Компонент для распределения входящего трафика между серверами (например, NGINX, HAProxy, AWS ALB). Повышает доступность и масштабируемость приложений.',
    useCases: [
      'Горизонтальное масштабирование',
      'Отказоустойчивость (Failover)',
      'SSL/TLS терминация',
      'Распределение L4/L7 трафика'
    ]
  },
  'auth-service': {
    title: 'Сервис аутентификации',
    description: 'Сервис, отвечающий за аутентификацию и авторизацию пользователей. Управляет токенами доступа, сессиями и правами доступа.',
    useCases: [
      'Аутентификация пользователей',
      'Управление токенами (JWT, OAuth)',
      'Авторизация и контроль доступа',
      'Single Sign-On (SSO)'
    ]
  },
  'cdn': {
    title: 'CDN (Content Delivery Network)',
    description: 'Сеть доставки контента для ускорения загрузки статики и видео (например, Cloudflare, Akamai, CloudFront). Кэширует контент на edge-серверах.',
    useCases: [
      'Ускорение загрузки сайта',
      'Кэширование изображений и видео',
      'Снижение задержек для глобальной аудитории',
      'Защита от DDoS атак'
    ]
  },
  'object-storage': {
    title: 'Объектное хранилище',
    description: 'Хранилище для неструктурированных данных (файлы, изображения, видео). Предоставляет REST API для загрузки и скачивания объектов.',
    useCases: [
      'Хранение файлов и медиа-контента',
      'Резервное копирование данных',
      'Архивирование данных',
      'Хранение больших объектов'
    ]
  },
  'data-warehouse': {
    title: 'Хранилище данных (Data Warehouse)',
    description: 'Специализированная БД для аналитики и отчетности (например, Snowflake, BigQuery, Redshift). Хранит структурированные исторические данные.',
    useCases: [
      'Бизнес-аналитика (BI)',
      'Хранение исторических данных',
      'Сложные аналитические запросы',
      'Консолидация корпоративных данных'
    ]
  },
  'lambda': {
    title: 'Бессерверная функция (Lambda)',
    description: 'Функция, которая выполняется в облаке без необходимости управления серверами. Автоматически масштабируется и оплачивается только за время выполнения.',
    useCases: [
      'Обработка событий',
      'Микросервисы без серверов',
      'Автоматизация задач',
      'Обработка файлов и данных'
    ]
  },
  'firewall': {
    title: 'Межсетевой экран (Firewall / WAF)',
    description: 'Система защиты сети и веб-приложений (например, AWS WAF, ModSecurity, Cloudflare). Фильтрует вредоносный трафик и предотвращает атаки.',
    useCases: [
      'Защита от сетевых угроз',
      'Web Application Firewall (WAF)',
      'Фильтрация по IP и Geo-блокировка',
      'Защита от SQL-инъекций и XSS'
    ]
  },
  'system': {
    title: 'Система (рамка)',
    description: 'Контейнер для группировки связанных компонентов (например, сервисов) в единую систему. Помогает визуализировать границы системы и её внутреннюю структуру. Отображается как рамка, которая автоматически подстраивается под размер содержащихся компонентов.',
    useCases: [
      'Группировка связанных сервисов',
      'Визуализация границ системы',
      'Организация архитектуры',
      'C4 диаграммы - уровень системы'
    ]
  },
  'system-component': {
    title: 'Система (компонент)',
    description: 'Компонент системы, отображаемый как обычный компонент (не рамка). Используется для представления системы в виде отдельного компонента на диаграмме.',
    useCases: [
      'Представление системы как компонента',
      'Визуализация системы без рамки',
      'Упрощенное отображение системы',
      'Система как единый элемент'
    ]
  },
  'esb': {
    title: 'ESB (Enterprise Service Bus)',
    description: 'Корпоративная сервисная шина - промежуточное ПО для интеграции различных приложений и сервисов. Обеспечивает маршрутизацию сообщений, трансформацию протоколов и данных, оркестрацию сервисов.',
    useCases: [
      'Интеграция разнородных систем',
      'Трансформация протоколов и данных',
      'Маршрутизация сообщений',
      'Оркестрация сервисов',
      'Event-driven интеграция'
    ]
  },
  'client': {
    title: 'Клиент',
    description: 'Внешний пользователь или клиентское приложение, которое взаимодействует с системой. Может быть человеком, мобильным приложением, веб-браузером или другим внешним приложением.',
    useCases: [
      'Пользователи системы',
      'Внешние клиентские приложения',
      'Мобильные приложения',
      'Веб-браузеры',
      'Интеграция с внешними системами'
    ]
  },
  'external-system': {
    title: 'Внешняя система',
    description: 'Внешняя система или сервис, который находится за пределами вашей системы, но взаимодействует с ней. Может быть сторонним API, партнерской системой или внешним сервисом.',
    useCases: [
      'Интеграция с внешними API',
      'Партнерские системы',
      'Сторонние сервисы',
      'Внешние платежные системы',
      'Внешние системы уведомлений'
    ]
  },
  'business-domain': {
    title: 'Бизнес-домен',
    description: 'Группа связанных бизнес-процессов и компонентов, которые работают вместе для решения определенной бизнес-задачи. Помогает организовать архитектуру по доменам (Domain-Driven Design).',
    useCases: [
      'Организация по доменам (DDD)',
      'Группировка связанных бизнес-процессов',
      'Визуализация границ доменов',
      'Модульная архитектура'
    ]
  },
  'controller': {
    title: 'Контроллер',
    description: 'Компонент, который обрабатывает HTTP-запросы и управляет взаимодействием между клиентом и серверной частью. Принимает запросы, валидирует данные и вызывает соответствующие методы сервисов.',
    useCases: [
      'Обработка HTTP-запросов',
      'REST API endpoints',
      'Валидация входных данных',
      'Маршрутизация запросов',
      'MVC архитектура'
    ]
  },
  'repository': {
    title: 'Репозиторий',
    description: 'Паттерн доступа к данным, который абстрагирует работу с базой данных. Предоставляет единый интерфейс для доступа к данным, скрывая детали реализации хранения.',
    useCases: [
      'Абстракция доступа к данным',
      'Работа с базой данных',
      'Паттерн Repository',
      'Разделение бизнес-логики и доступа к данным'
    ]
  },
  'class': {
    title: 'Класс',
    description: 'Класс в объектно-ориентированном программировании, который инкапсулирует данные и методы для работы с ними. Представляет сущность или концепцию в системе.',
    useCases: [
      'Объектно-ориентированное программирование',
      'Инкапсуляция данных и логики',
      'Моделирование сущностей',
      'Повторное использование кода'
    ]
  },
  'server': {
    title: 'Сервер',
    description: 'Физический или виртуальный сервер, на котором размещаются приложения и сервисы. Предоставляет вычислительные ресурсы, память и хранилище для работы системы.',
    useCases: [
      'Размещение приложений',
      'Вычислительные ресурсы',
      'Виртуальные и физические серверы',
      'Инфраструктура приложений'
    ]
  },
  'container': {
    title: 'Контейнер',
    description: 'Изолированная среда выполнения приложения, которая содержит все необходимые зависимости и конфигурацию. Контейнеры развертываются и управляются оркестратором (например, Kubernetes). Внутри контейнера могут выполняться серверные компоненты.',
    useCases: [
      'Изоляция приложений',
      'Развертывание серверов в контейнерах',
      'Управление зависимостями',
      'Масштабирование приложений',
      'Консистентная среда выполнения'
    ]
  },
  'orchestrator': {
    title: 'Оркестратор',
    description: 'Платформа для управления контейнерами и их жизненным циклом. Обеспечивает автоматическое развертывание, масштабирование, балансировку нагрузки и управление контейнерами. Оркестратор управляет контейнерами, внутри которых выполняются серверы.',
    useCases: [
      'Управление контейнерами (Kubernetes, Docker Swarm)',
      'Автоматическое масштабирование',
      'Оркестрация микросервисов',
      'Развертывание и обновление приложений',
      'Управление ресурсами и распределение нагрузки'
    ]
  },
  'group': {
    title: 'Группа компонентов',
    description: 'Группа для объединения нескольких компонентов в единое целое. Позволяет управлять группой компонентов как одним объектом - перемещать, копировать и удалять все компоненты группы одновременно. Компоненты внутри группы сохраняют свои относительные позиции при перемещении.',
    useCases: [
      'Группировка связанных компонентов',
      'Управление несколькими компонентами как одним',
      'Организация архитектуры',
      'Упрощение навигации по диаграмме',
      'Логическое объединение компонентов'
    ]
  },
  'service-discovery': {
    title: 'Обнаружение сервисов',
    description: 'Реестр запущенных инстансов сервисов для их автоматического обнаружения (например, HashiCorp Consul, Netflix Eureka, ETCD).',
    useCases: [
      'Динамическое обнаружение адресов (Service Discovery)',
      'Health checking сервисов',
      'Хранение конфигураций (Key-Value)',
      'DNS-based discovery'
    ]
  },
  'web-server': {
    title: 'Веб-сервер',
    description: 'Сервер, который обрабатывает HTTP-запросы и доставляет веб-контент клиентам. Может обслуживать статические файлы, проксировать запросы к приложениям или выполнять серверные скрипты.',
    useCases: [
      'Обслуживание статического контента',
      'Проксирование запросов',
      'Обработка HTTP-запросов',
      'Размещение веб-приложений'
    ]
  },
  'monitoring': {
    title: 'Мониторинг',
    description: 'Система сбора и визуализации метрик (например, Prometheus, Grafana, Datadog). Позволяет отслеживать состояние и производительность системы.',
    useCases: [
      'Сбор технических метрик (CPU, RAM)',
      'Бизнес-мониторинг',
      'Алертинг и оповещения',
      'Визуализация дашбордов'
    ]
  },
  'logging': {
    title: 'Логирование',
    description: 'Централизованная система сбора логов (например, ELK Stack, Splunk, Graylog). Агрегирует логи со всех сервисов для поиска и отладки.',
    useCases: [
      'Агрегация логов микросервисов',
      'Полнотекстовый поиск по логам',
      'Аудит безопасности',
      'Troubleshooting инцидентов'
    ]
  },
  'queue': {
    title: 'Очередь сообщений',
    description: 'Механизм для последовательной асинхронной обработки задач (например, Amazon SQS, RabbitMQ Queues). Гарантирует, что каждая задача будет обработана одним потребителем.',
    useCases: [
      'Отложенная обработка задач',
      'Балансировка нагрузки между воркерами',
      'Буферизация запросов',
      'Decoupling производителей и потребителей'
    ]
  },
  'event-bus': {
    title: 'Шина событий',
    description: 'Инфраструктура для маршрутизации событий от источников к подписчикам (например, Amazon EventBridge, Azure Event Grid). Позволяет строить слабосвязанные событийно-ориентированные системы.',
    useCases: [
      'Event-driven архитектура',
      'Реакция на изменения состояния',
      'Интеграция микросервисов',
      'Асинхронные рабочие процессы'
    ]
  },
  'stream-processor': {
    title: 'Потоковый обработчик',
    description: 'Система для непрерывной обработки и анализа данных в реальном времени (например, Apache Flink, Kafka Streams, Spark Streaming).',
    useCases: [
      'Real-time аналитика и мониторинг',
      'Обнаружение аномалий и фрода',
      'ETL в реальном времени',
      'Обработка IoT телеметрии'
    ]
  },
  'search-engine': {
    title: 'Поисковая система',
    description: 'Специализированная система для полнотекстового поиска и индексации данных. Обеспечивает быстрый поиск по большим объемам данных.',
    useCases: [
      'Полнотекстовый поиск',
      'Поиск по логам',
      'Поиск продуктов и контента',
      'Аналитика и мониторинг',
      'Индексация документов'
    ]
  },
  'analytics-service': {
    title: 'Сервис аналитики',
    description: 'Сервис для сбора, обработки и анализа данных о поведении пользователей и работе системы. Предоставляет метрики и инсайты.',
    useCases: [
      'Аналитика пользователей',
      'Отслеживание конверсий',
      'A/B тестирование',
      'Поведенческая аналитика',
      'Бизнес-метрики'
    ]
  },
  'business-intelligence': {
    title: 'Business Intelligence',
    description: 'Платформа для анализа бизнес-данных, создания отчетов и визуализации. Помогает принимать решения на основе данных.',
    useCases: [
      'Бизнес-отчеты и дашборды',
      'Визуализация данных',
      'Анализ продаж и маркетинга',
      'Финансовая аналитика',
      'KPI мониторинг'
    ]
  },
  'graph-database': {
    title: 'Графовая база данных',
    description: 'Специализированная база данных для хранения и запросов графовых структур данных. Оптимизирована для работы со связями и отношениями.',
    useCases: [
      'Социальные сети',
      'Рекомендательные системы',
      'Fraud detection',
      'Knowledge graphs',
      'Сложные связи между сущностями'
    ]
  },
  'time-series-database': {
    title: 'База данных временных рядов',
    description: 'Специализированная база данных для хранения и запросов временных рядов данных. Оптимизирована для метрик, мониторинга и IoT.',
    useCases: [
      'Мониторинг и метрики',
      'IoT данные',
      'Финансовые данные',
      'Аналитика временных рядов',
      'Хранение исторических данных'
    ]
  },
  'service-mesh': {
    title: 'Сервисная сеть (Service Mesh)',
    description: 'Инфраструктурный слой для управления service-to-service взаимодействием (например, Istio, Linkerd). Обеспечивает наблюдаемость, надежность и безопасность.',
    useCases: [
      'mTLS шифрование трафика',
      'Управление трафиком (Canary, Blue/Green)',
      'Circuit Breakers и Retries',
      'Сбор телеметрии и трассировка'
    ]
  },
  'configuration-management': {
    title: 'Управление конфигурацией',
    description: 'Инструмент для централизованного управления настройками приложений (например, Consul, etcd, Spring Cloud Config). Позволяет менять конфиги без перезапуска.',
    useCases: [
      'Динамическая конфигурация',
      'Feature flags (переключатели функций)',
      'Разделение конфигурации по средам',
      'Версионирование настроек'
    ]
  },
  'ci-cd-pipeline': {
    title: 'CI/CD пайплайн',
    description: 'Автоматизированный конвейер доставки кода (например, Jenkins, GitHub Actions, GitLab CI). Обеспечивает непрерывную интеграцию и развертывание.',
    useCases: [
      'Автоматическая сборка и тесты',
      'Анализ качества кода',
      'Деплой в различные окружения',
      'Управление релизами'
    ]
  },
  'backup-service': {
    title: 'Сервис резервного копирования',
    description: 'Система для создания и управления бэкапами (например, AWS Backup, Velero). Гарантирует сохранность данных и возможность восстановления (DR).',
    useCases: [
      'Регулярное резервное копирование',
      'Восстановление после сбоев (Disaster Recovery)',
      'Архивирование долгосрочных данных',
      'Cross-region репликация'
    ]
  },
  'identity-provider': {
    title: 'Провайдер идентичности',
    description: 'Централизованная система аутентификации и управления пользователями (например, Auth0, Keycloak, Okta). Поддерживает SSO и современные протоколы (OAuth 2.0, OIDC).',
    useCases: [
      'Single Sign-On (SSO)',
      'Управление жизненным циклом пользователей',
      'Федеративная аутентификация',
      'Multi-factor authentication (MFA)'
    ]
  },
  'secret-management': {
    title: 'Управление секретами',
    description: 'Система для безопасного хранения и доступа к конфиденциальным данным (например, HashiCorp Vault, AWS Secrets Manager). Шифрует пароли, API-ключи и сертификаты.',
    useCases: [
      'Хранение паролей и токенов',
      'Динамическая генерация секретов',
      'Управление PKI и сертификатами',
      'Ротация ключей шифрования'
    ]
  },
  'api-client': {
    title: 'API клиент',
    description: 'Клиентское приложение или библиотека для взаимодействия с внешними API. Инкапсулирует логику вызовов API и обработку ответов.',
    useCases: [
      'Интеграция с внешними сервисами',
      'SDK для API',
      'Обработка API ответов',
      'Кэширование запросов',
      'Retry логика'
    ]
  },
  'api-documentation': {
    title: 'Документация API',
    description: 'Система для создания, хранения и отображения документации API. Обычно использует OpenAPI/Swagger спецификации.',
    useCases: [
      'Документация REST API',
      'Интерактивная документация',
      'API тестирование',
      'Code generation',
      'Версионирование API'
    ]
  },
  'integration-platform': {
    title: 'Платформа интеграций',
    description: 'Платформа для создания и управления интеграциями между различными системами и приложениями. Упрощает подключение различных сервисов.',
    useCases: [
      'Интеграция SaaS приложений',
      'Enterprise Service Bus',
      'Data transformation',
      'Workflow automation',
      'API orchestration'
    ]
  },
  'batch-processor': {
    title: 'Пакетный обработчик',
    description: 'Система для запуска и управления периодическими задачами обработки данных (например, Spring Batch, AWS Batch). Оптимизирована для больших объемов данных.',
    useCases: [
      'Массовая обработка транзакций',
      'Генерация отчетов',
      'Регулярные вычисления (End-of-Day)',
      'Сложные вычислительные задачи'
    ]
  },
  'etl-service': {
    title: 'ETL сервис',
    description: 'Инструмент для извлечения, трансформации и загрузки данных (например, Airbyte, Talend, Informatica). Интегрирует данные из разных источников в единое хранилище.',
    useCases: [
      'Консолидация данных из разных систем',
      'Миграция данных',
      'Очистка и нормализация данных',
      'Синхронизация баз данных'
    ]
  },
  'data-lake': {
    title: 'Data Lake',
    description: 'Масштабируемое хранилище для любых типов данных в "сыром" виде (например, AWS S3, Azure Data Lake). Используется для ML и глубокой аналитики.',
    useCases: [
      'Хранение неструктурированных данных',
      'Архив данных большого объема',
      'Источник для Machine Learning',
      'Исследовательская аналитика'
    ]
  },
  'edge-computing': {
    title: 'Граничные вычисления',
    description: 'Вычислительная инфраструктура на границе сети, близко к источникам данных. Уменьшает задержку и нагрузку на центральные серверы.',
    useCases: [
      'IoT обработка данных',
      'CDN с логикой',
      'Low-latency приложения',
      'Обработка на устройстве',
      'Offline-first приложения'
    ]
  },
  'iot-gateway': {
    title: 'IoT шлюз',
    description: 'Устройство или сервис, который соединяет IoT устройства с облаком или центральной системой. Обрабатывает и фильтрует данные с устройств.',
    useCases: [
      'Подключение IoT устройств',
      'Протокол трансформация',
      'Локальная обработка данных',
      'Безопасность устройств',
      'Агрегация данных'
    ]
  },
  'blockchain': {
    title: 'Блокчейн',
    description: 'Распределенная база данных для хранения транзакций в неизменяемом виде. Обеспечивает децентрализацию, прозрачность и безопасность.',
    useCases: [
      'Криптовалюты',
      'Smart contracts',
      'Supply chain tracking',
      'Digital identity',
      'Децентрализованные приложения'
    ]
  },
  'ml-ai-service': {
    title: 'ML/AI сервис',
    description: 'Сервис машинного обучения (например, AWS SageMaker, Google Vertex AI). Предоставляет готовые модели и инструменты для разработки AI.',
    useCases: [
      'Разработка и обучение моделей',
      'Прогнозирование и аналитика',
      'Обработка изображений и текста',
      'Интеграция AI в приложения'
    ]
  },
  'notification-service': {
    title: 'Сервис уведомлений',
    description: 'Сервис для отправки push-уведомлений, SMS и других типов уведомлений пользователям. Управляет каналами доставки и шаблонами.',
    useCases: [
      'Push уведомления',
      'In-app уведомления',
      'Email уведомления',
      'SMS уведомления',
      'Многоканальные уведомления'
    ]
  },
  'email-service': {
    title: 'Email сервис',
    description: 'Сервис для отправки транзакционных и маркетинговых email. Обеспечивает доставку, отслеживание и управление шаблонами.',
    useCases: [
      'Транзакционные email',
      'Email маркетинг',
      'Email templates',
      'Отслеживание открытий и кликов',
      'Email analytics'
    ]
  },
  'sms-gateway': {
    title: 'SMS шлюз',
    description: 'Сервис для отправки SMS сообщений. Интегрируется с операторами связи для доставки SMS по всему миру.',
    useCases: [
      'SMS уведомления',
      'Двухфакторная аутентификация',
      'SMS маркетинг',
      'Alert уведомления',
      'SMS API интеграция'
    ]
  },
  'proxy': {
    title: 'Прокси сервер',
    description: 'Промежуточный сервер между клиентами и серверами. Обеспечивает кэширование, фильтрацию, балансировку и безопасность.',
    useCases: [
      'Кэширование запросов',
      'Фильтрация контента',
      'Анонимизация',
      'Load balancing',
      'Security gateway'
    ]
  },
  'vpn-gateway': {
    title: 'VPN шлюз',
    description: 'Точка входа для защищенных VPN соединений (например, AWS Client VPN, OpenVPN). Обеспечивает безопасный доступ к частной сети извне.',
    useCases: [
      'Удаленный доступ сотрудников',
      'Объединение офисов (Site-to-Site)',
      'Шифрование корпоративного трафика',
      'Скрытие сетевой топологии'
    ]
  },
  'dns-service': {
    title: 'DNS сервис',
    description: 'Сервис для управления DNS записями и разрешения доменных имен. Обеспечивает маршрутизацию трафика и высокую доступность.',
    useCases: [
      'Управление DNS записями',
      'DNS routing',
      'Load balancing через DNS',
      'CDN интеграция',
      'GeoDNS'
    ]
  },
  'note': {
    title: 'Заметка (Note)',
    description: 'Компонент для текстовых заметок и аннотаций на диаграмме. Позволяет добавлять пояснения, документацию или важные замечания к элементам архитектуры. Поддерживает многострочный текст и может быть соединен с другими компонентами.',
    useCases: [
      'Добавление пояснений к узлам',
      'Документирование архитектурных решений',
      'Важные замечания и TODO',
      'Аннотирование диаграммы'
    ]
  },
  // AI / ML
  'llm-model': {
    title: 'LLM Модель',
    description: 'Большая языковая модель (например, GPT-4, Claude 3, Llama 3). Ядро генеративного ИИ для понимания и генерации текста.',
    useCases: [
      'Генерация текста и кода',
      'Чат-боты и ассистенты',
      'Summarization и рерайтинг',
      'Анализ тональности и намерений'
    ]
  },
  'vector-database': {
    title: 'Векторная база данных',
    description: 'Специализированная БД для векторов (например, Pinecone, Weaviate, Milvus). Критически важна для семантического поиска и RAG.',
    useCases: [
      'Семантический поиск',
      'Retrieval-Augmented Generation (RAG)',
      'Рекомендательные системы',
      'Поиск похожих изображений/аудио'
    ]
  },
  'ai-agent': {
    title: 'AI Агент / Оркестратор',
    description: 'Автономная система (например, AutoGPT, LangChain Agents), использующая LLM для планирования и выполнения последовательных задач с инструментами.',
    useCases: [
      'Автономное решение задач',
      'Использование внешних инструментов',
      'Оркестрация рабочих процессов',
      'RPA нового поколения'
    ]
  },
  'ml-training': {
    title: 'Обучение моделей',
    description: 'Инфраструктура для обучения ML моделей (например, PyTorch Distributed, TensorFlow). Включает кластеры и пайплайны тренировки.',
    useCases: [
      'Обучение на больших датасетах',
      'Fine-tuning LLM (LoRA/QLoRA)',
      'Гиперпараметрическая оптимизация',
      'Валидация качества моделей'
    ]
  },
  'ml-inference': {
    title: 'Инференс',
    description: 'Среда исполнения моделей (например, Triton, TF Serving, vLLM). Обеспечивает low-latency доступ к предсказаниям через API.',
    useCases: [
      'Real-time предсказания',
      'Высоконагруженный инференс LLM',
      'Оптимизация (Quantization, Pruning)',
      'Масштабирование по запросу'
    ]
  },
  'ml-data-pipeline': {
    title: 'ML Дата-пайплайн',
    description: 'Конвейер подготовки данных для ML (например, Kubeflow Pipelines, Airflow). Включает сбор, очистку, версионирование (DVC).',
    useCases: [
      'Feature Engineering',
      'Подготовка Dataset',
      'Воспроизводимость экспериментов',
      'Автоматизация переобучения'
    ]
  },
  'gpu-cluster': {
    title: 'GPU Кластер',
    description: 'Вычислительный кластер с графическими ускорителями (например, NVIDIA H100/A100). Необходим для тяжелых вычислений Deep Learning.',
    useCases: [
      'Обучение LLM и трансформеров',
      'Параллельные вычисления',
      'Массовый батч-инференс',
      'Рендеринг и симуляции'
    ]
  }
}

export default function ComponentInfoPanel({ componentType, onClose, onCompare }: ComponentInfoPanelProps) {
  const info = componentDescriptions[componentType]


  // Если описание не найдено, показываем заглушку
  if (!info) {
    return (
      <div
        style={{
          position: 'absolute',
          top: '50%',
          left: '50%',
          transform: 'translate(-50%, -50%)',
          backgroundColor: '#2d2d2d',
          border: '2px solid #4dabf7',
          borderRadius: '16px',
          padding: '30px',
          minWidth: '500px',
          maxWidth: '700px',
          boxShadow: '0 12px 48px rgba(0,0,0,0.7)',
          zIndex: 2000,
        }}
      >
        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
          <h2 style={{ fontSize: '22px', fontWeight: 'bold', color: '#fff', margin: 0 }}>
            Информация о компоненте
          </h2>
          <button
            onClick={onClose}
            style={{
              background: 'transparent',
              border: 'none',
              color: '#aaa',
              fontSize: '28px',
              cursor: 'pointer',
              padding: '0',
              width: '32px',
              height: '32px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              borderRadius: '6px',
              transition: 'all 0.2s',
            }}
            onMouseEnter={(e) => {
              e.currentTarget.style.color = '#fff'
              e.currentTarget.style.backgroundColor = '#3d3d3d'
            }}
            onMouseLeave={(e) => {
              e.currentTarget.style.color = '#aaa'
              e.currentTarget.style.backgroundColor = 'transparent'
            }}
          >
            <X size={20} />
          </button>
        </div>
        <p style={{ fontSize: '14px', lineHeight: '1.6', color: '#ccc', margin: 0 }}>
          Описание для компонента "{componentType}" пока не добавлено.
        </p>
      </div>
    )
  }

  return (
    <div
      style={{
        position: 'absolute',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        backgroundColor: '#2d2d2d',
        border: '2px solid #4dabf7',
        borderRadius: '16px',
        padding: '30px',
        minWidth: '500px',
        maxWidth: '700px',
        maxHeight: '80vh',
        overflowY: 'auto',
        boxShadow: '0 12px 48px rgba(0,0,0,0.7)',
        zIndex: 2000,
      }}
    >
      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
        <h2 style={{ fontSize: '22px', fontWeight: 'bold', color: '#fff', margin: 0 }}>
          {info.title}
        </h2>
        <button
          onClick={onClose}
          style={{
            background: 'transparent',
            border: 'none',
            color: '#aaa',
            fontSize: '28px',
            cursor: 'pointer',
            padding: '0',
            width: '32px',
            height: '32px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            borderRadius: '6px',
            transition: 'all 0.2s',
          }}
          onMouseEnter={(e) => {
            e.currentTarget.style.color = '#fff'
            e.currentTarget.style.backgroundColor = '#3d3d3d'
          }}
          onMouseLeave={(e) => {
            e.currentTarget.style.color = '#aaa'
            e.currentTarget.style.backgroundColor = 'transparent'
          }}
        >
          <X size={20} />
        </button>
      </div>

      <div style={{ marginBottom: '24px' }}>
        <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#4dabf7', marginBottom: '12px' }}>
          Описание
        </h3>
        <p style={{ fontSize: '14px', lineHeight: '1.6', color: '#ccc', margin: 0 }}>
          {info.description}
        </p>
      </div>

      <div>
        <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#4dabf7', marginBottom: '12px' }}>
          Примеры использования
        </h3>
        <ul style={{ margin: 0, paddingLeft: '20px', color: '#ccc' }}>
          {info.useCases.map((useCase, index) => (
            <li key={index} style={{ fontSize: '14px', lineHeight: '1.8', marginBottom: '8px' }}>
              {useCase}
            </li>
          ))}
        </ul>
      </div>


    </div>
  )
}


